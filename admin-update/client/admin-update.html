<!-- <template name = "adminUpdate">
  
  {{#if isInRole 'admin'}}
    {{> adminUpdateBody}}
  {{else}}
    {{> customErrorPageAdminUpdate }}
  {{/if}}
</template> -->




<template name="adminUpdate">

	<nav class = "navbar navbar-default">
    <div class = "container">
      <div class = "navbar-header">
        <a class = "navbar-brand" id = "admin-home-button">you<strong>arc</strong>hange<strong>for</strong>massachusetts</a>
      </div>

    <div>
      <p class = "navbar-text">Signed in as {{returnUserId}} (admin). </p>
    </div>

    <div>
      <button type = "button" class = "btn btn-default navbar-btn" id = "update-button">
      <span class = "glyphicon glyphicon-cog"></span>
      </button>


    </div>
    
    </div>


  </nav>


	<head>
		<link rel="stylesheet" type="text/css" href="/adminUpdate.css">
		<script type="text/javascript">
			
			
			function toEdit(){
				/*
				document.getElementById("saveToDoButton").style.visibility = "hidden";
				document.getElementById("editToDoButton").style.visibility = "visible";
				//document.getElementById("todoInput").readOnly = true;
				//document.getElementById("goalInput").readOnly = true;
				//document.getElementById("messageInput").readOnly = true;
				*/
			}

			function toSave(){
				document.getElementById("editToDoButton").style.visibility = "hidden";
				document.getElementById("saveToDoButton").style.visibility = "visible";
				document.getElementById("todoInput").readOnly = false;
				document.getElementById("goalInput").readOnly = false;
				document.getElementById("messageInput").readOnly = false;
			}
			function toEditLegislator(){
				/*
				document.getElementById("saveLegislatorButton").style.visibility = "hidden";
				document.getElementById("editLegislatorButton").style.visibility = "visible";
				//document.getElementById("nameInput").readOnly = true;
				//document.getElementById("emailInput").readOnly = true;
				//document.getElementById("addressInput").readOnly = true;
				*/
			}

			function toSaveLegislator(){
				document.getElementById("editLegislatorButton").style.visibility = "hidden";
				document.getElementById("saveLegislatorButton").style.visibility = "visible";
				document.getElementById("nameInput").readOnly = false;
				document.getElementById("emailInput").readOnly = false;
				document.getElementById("addressInput").readOnly = false;
			}

			
			</script>
	</head>
	<div class = "col-md-3">
		<button type="button" class="btn btn-default" id ="addIssueButton">
			Add Issue
		</button>
				
		<input type="text" id="addIssueField" class="form-control" aria-label="..." placeholder = "New Issue">
				
		<button type="button" class="btn btn-default" id="deleteIssueButton"> Delete Current Issue
		</button>
		  
		    <!-- List of all issues -->
		{{#each getUserIssues}}
		<a href="#" id="issueSelect" class="list-group-item">{{returnIssueName}}</a>
		{{/each}}

		</div>

	
	<div class= "col-md-9">
		{{#if issueSelected}}
			{{> updateFormField }}
		{{/if}}
	</div>	
	


</template>


<template name = "updateFormField"> 


	{{>legHead}}
	{{#each getLegislatorInfo}}
		{{>legislatorRow}}
	{{/each}}

	{{#each getLegislatorRowArray}}
		{{> legislatorRowNew}}
	{{/each}}
	
	{{> addLegButton}}

	
	{{>toDoHead}}
	{{#each getToDoInfo}}
		{{> toDoRow}}
	{{/each}}

	{{#each getToDoRowArray}}
		{{> toDoRowNew}}
	{{/each}}

	{{> addToDoButton}}

	<!-- pass in a parameter that indicates the id to put in. --> 

</template>

		<!--	<div id="contactList"> -->
		<template name="legHead">
			<h3 class="col-md-8" style="text-align:center">Contacts for {{getSelectedIssueName}}</h3>
		</template>
				

				<template name="legislatorRow">
					<div class="legRow" id="{{getLegID}}">
						
						
					 	<input type="text" class="form-control nameInput" id="{{getNameID}}" aria-label="..." placeholder = "Representative" value="{{getLegislatorName}}">
					 	<input type="text" class="form-control emailInput" id="{{getEmailID}}" aria-label="..." placeholder = "Email"  value="{{getLegislatorEmail}}">
						<input id="{{getAddressID}}" type="text" class="form-control addressInput" aria-label="..." placeholder = "Address" value="{{getLegislatorAddress}}">
						<input id="{{getPhoneID}}" type="text" class="form-control phoneInput" aria-label="..." placeholder = "Phone Number" value="{{getLegislatorPhone}}">
							 
						 <button type="button" class="btn btn-default saveLegislatorButton" onclick="toEditLegislator()" id = "{{getSaveLegislatorButtonID}}">
							 	Save
						</button>
					 	
					 	<button type="button" class="btn btn-default editLegislatorButton" id="{{getEditLegislatorButtonID}}" onclick="toSaveLegislator()">
					 			Edit
					 	</button>
					 	
						<button type="button" class="btn btn-default deleteLegislatorButton" id="{{getDeleteLegislatorButtonID}}">
							 	Delete
						</button>
					</div>
				</template>
				
				<template name="legislatorRowNew">
					<div class="legRow">
						
						
					 	<input type="text" class="form-control nameInput" aria-label="..." placeholder = "Representative" >
					 	<input type="text" class="form-control emailInput" aria-label="..." placeholder = "Email">
						<input type="text" class="form-control addressInput" aria-label="..." placeholder = "Address" >
						<input type="text" class="form-control phoneInput" aria-label="..." placeholder = "Phone Number" >
							 
						 <button type="button" class="btn btn-default" onclick="toEditLegislator()" id = "saveLegislatorButton">
							 	Save
						</button>
					 	
					 	<!-- <button type="button" class="btn btn-default" id="editLegislatorButton" onclick="toSaveLegislator()">
					 			Edit
					 	</button> --> 
					 	
						<button type="button" class="btn btn-default" id="deleteLegislatorButton">
							 	Delete
						</button>
					</div>
				</template>
				








				<template name="addLegButton">

				<div class= "col-md-2 col-md-offset-5" id="addLegislatorButtonDiv">
					<button type="button" class="btn btn-default" id = "addLegislatorRow"> Add Legislator

					</button>
				</div>
		
			
			
		</template>
		<template name= "toDoHead">
		<div id="todoList">
			<h3 class="col-md-8" style="text-align:center">To Do's for {{getSelectedIssueName}}</h3> 
		</div>
				</template>
				
				<template name="toDoRow">
				
					 <div class = 'row' id="{{getToDoRowID}}">
						
						 		<input type= 'checkbox' class = "checkInput" aria-label="..." >
						 		
						 		<input type="text" class="form-control todoInput" id="{{getTodoInputID}}" aria-label="..." placeholder = "To Do" value="{{getToDoValue}}" >

						 		<input type="text" class="form-control goalInput" id="{{getGoalInputID}}" aria-label="..." placeholder = "Goal (Target # of Completions)" value="{{getGoalValue}}">
						 							 			
					 			<input type="text" class="form-control messageInput" id="{{getMessageInputID}}" aria-label="..." placeholder = "Message" value="{{getMessageValue}}">

						 		<button type="button" class="btn btn-default saveToDoButton" onclick="toEdit()" id="{{saveToDoButtonID}}">
						 			Save
						 		</button>
						 	
						 		<button type="button" class="btn btn-default editToDoButton" onclick="toSave()" id="{{editToDoButtonID}}" >
						 			Edit
						 		</button>
						 	
						 		<button type="button" id="{{deleteToDoButtonID}}" class="btn btn-default deleteToDoButton">
						 			Delete
						 		</button>
						 
					 </div>
				

				
			</template>


			<template name="toDoRowNew">
				
					 <div class = 'row'>
						
						 		<input type= 'checkbox' class = "checkInput" aria-label="..." >
						 		
						 		<input type="text" class="form-control todoInput" aria-label="..." placeholder = "To Do" >

						 		<input type="text" class="form-control goalInput" aria-label="..." placeholder = "Goal (Target # of Completions)">
						 							 			
					 			<input type="text" class="form-control messageInput" aria-label="..." placeholder = "Message">

						 		<button type="button" class="btn btn-default" onclick="toEdit()" id="saveToDoButton">
						 			Save
						 		</button>
						 	
						 		<!-- <button type="button" class="btn btn-default" onclick="toSave()" id="editToDoButton">
						 			Edit
						 		</button> --> 
						 	
						 		<button type="button" id="deleteToDoButton" class="btn btn-default">
						 			Delete
						 		</button>
						 
					 </div>
				

				
			</template>




			
			<template name="addToDoButton">

			<div class = "col-md-2 col-md-offset-5" id="addToDoButtonDiv">
				<button type= "button" class="btn btn-default" id= "addToDoRow" > Add To Do
				</button>
			</div>
		
	
		
</template> 









<template name = "customErrorPageAdminUpdate"> 
  <h1>You're not an admin.</h1> 
</template> 
