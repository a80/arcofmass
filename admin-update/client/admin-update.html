<template name = "adminUpdate">
  
  {{#if isInRole 'admin'}}
    {{> adminUpdateBody}}
  {{else}}
    {{> customErrorPageAdminUpdate }}
  {{/if}}
</template>


<template name="adminUpdateBody">

	<head>
		<link rel="stylesheet" type="text/css" href="/adminUpdate.css">
		<script type="text/javascript">
			

			function toEdit(){
				document.getElementById("save").style.visibility = "hidden";
				document.getElementById("edit").style.visibility = "visible";
				document.getElementById("save").value = "edit";
				document.getElementById("todo").readOnly = true;
				document.getElementById("goal").readOnly = true;
				document.getElementById("message").readOnly = true;
			}

			function toSave(){
				document.getElementById("edit").style.visibility = "hidden";
				document.getElementById("save").style.visibility = "visible";
				document.getElementById("save").value = "save";
				document.getElementById("todo").readOnly = false;
				document.getElementById("goal").readOnly = false;
				document.getElementById("message").readOnly = false;
			}
			function toEditLegislator(){
				document.getElementById("saveLeg").style.visibility = "hidden";
				document.getElementById("editLeg").style.visibility = "visible";
				document.getElementById("rep").readOnly = true;
				document.getElementById("em").readOnly = true;
				document.getElementById("address").readOnly = true;
			}

			function toSaveLegislator(){
				document.getElementById("editLeg").style.visibility = "hidden";
				document.getElementById("saveLeg").style.visibility = "visible";
				document.getElementById("rep").readOnly = false;
				document.getElementById("em").readOnly = false;
				document.getElementById("address").readOnly = false;
			}
			</script>
	</head>
	<div>
		<div class="dropdown">
		  <button type="button" class="btn btn-default dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="false">
		    Select Issue <span class="caret"></span>
		  </button>
		  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
		    <!-- List of all issues -->

		    {{#each getUserIssues}}
		    	<li role="presentation"><a role="menuitem" tabindex="-1" href="#">{{returnIssueName}}</a></li>
		    {{/each}}

		    <!-- <li>
		    {{#each getAllIssues}}
	  			{{> issuePanel}}
	  		{{/each}}
	  		</li> --> 
		  </ul>
		</div>
		<div class="newIssueField">
			<div id="issueButton"> 
				<button type="button" id ="addIssue">
					Add Issue
				</button>
			</div>
			<div id= "newIssue">
				<span class ='box'>
					 <input type= 'text' aria-label="..." placeholder = "New Issue">
				</span>
			</div>


		</div>
		<div class="deleteIssueField">
			<button type= "button" id="deleteIssue"> Delete Current Issue
			</button>

		</div>
	</div>
	
	{{>updateFormField}}


</template>


<template name = "updateFormField"> 


	<div>
		<h3> Issue X</h3>

	</div>

	<!-- For each issue there will be the following -->

	<div>
		<!-- Contacts -->

	</div>
		<div id="contactList">
			<h5>Contact for Issue X</h5>
			<div class = 'contactName'>
				 <span class ='box'>
				 	<input id="rep" type= 'text' aria-label="..." placeholder = "Representative">
				 </span>
			</div>
			<div class = 'contactEmail'>
				 <span class ='box'>
				 	<input id="em" type= 'text' aria-label="..." placeholder = "Email">
				 </span>
			</div>
			<div class = 'contactAddress'>
				 <span class ='box'>
				 	<input id="address" type= 'text' aria-label="..." placeholder = "Address">
				 </span>
			</div>
			<div id = 'saveLeg'>

				 <button onclick="toEditLegislator()">
				 	Save
				</button>
		 	</div>
		 	<div id = 'editLeg'>

		 		<button onclick="toSaveLegislator()">
		 			Edit
		 		</button>
		 	</div>
			<div class = 'deleteLegislator'>
				 <button>
				 	Delete
				 </button>
			</div>
			<div>
				<button type= "button" id= "addLegislator"> Add Legislator
				</button>
			</div>
		</div>
		
		<div id="todoList">
			<h5> To Do List </h5>
			<div id = 'firstRow'>
				 <div class = 'row'>
				 	<div class = 'checkbox'>
				 		<span class ='box'>
				 			<input type= 'checkbox' aria-label="..." >
				 		</span>
				 	</div>
				 	<div class = 'todo'>
				 		<span class ='box'>
				 			<input id="todo" type= 'text' aria-label="..." placeholder = "To Do #1" >
				 		</span>
				 	</div>
				 	<div class = 'goal' >
				 		<span class ='box'>
				 			<input id="goal" type= 'text' aria-label="..." placeholder = "Goal #1">
				 		</span>
				 	</div>
				 	<div class = 'message' >
				 		<span class ='box'>
				 			<input id="message" type= 'text' aria-label="..." placeholder = "Message">
				 		</span>
				 	</div>
				 	
				 	<div id = 'save'>

				 		<button onclick="toEdit()">
				 			Save
				 		</button>
				 	</div>
				 	<div id = 'edit'>

				 		<button onclick="toSave()">
				 			Edit
				 		</button>
				 	</div>
				 	<div class = 'deleteToDo'>
				 		<button>
				 			Delete
				 		</button>
				 	</div>
				 </div>
			</div>
			<!--
			<div id = 'secondRow'>
				<div class = 'row'>
				 	<div class = 'checkbox'>
				 		<span class ='box'>
				 			<input type= 'checkbox' aria-label="...">
				 		</span>
				 	</div>
				 	<div class = 'todo'>
				 		<span class ='box'>
				 			<input type= 'text' aria-label="..." placeholder = "To Do #2">
				 			
				 		</span>
				 	</div>
				 	<div class = 'goal'>
				 		<span class ='box'>
				 			<input type= 'text' aria-label="..." placeholder = "Goal #2">
				 			
				 		</span>
				 	</div>
				 	<div class = 'message'>
						 <span class ='box'>
						 	<input type= 'text' aria-label="..." placeholder = "Message">
						 	
						 </span>
					</div>
				 </div>
			</div>
			
			<div id = 'thirdRow'>
				<div class = 'row'>
				 	<div class = 'checkbox'>
				 		<span class ='box'>
				 			<input type= 'checkbox' aria-label="...">
				 		</span>
				 	</div>
				 	<div class = 'todo'>
				 		<span class ='box'>
				 			<input type= 'text' aria-label="..." placeholder = "To Do #3">
				 		</span>
				 	</div>
				 	<div class = 'goal'>
				 		<span class ='box'>
				 			<input type= 'text' aria-label="..." placeholder = "Goal #3">
				 		</span>
				 	</div>
				 	<div class = 'message'>
						<span class ='box'>
						 	<input type= 'text' aria-label="..." placeholder = "Message">
						 </span>
					</div>
				 </div>
			</div> -->
			<div>
			<button type= "button" id= "addToDo"> Add To Do
			</button>
		</div>
		</div>
		
</template> 

<template name = "customErrorPageAdminUpdate"> 
  <h1>You're not an admin.</h1> 
</template> 

