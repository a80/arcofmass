<!-- <template name = "adminUpdate">
  
  {{#if isInRole 'admin'}}
    {{> adminUpdateBody}}
  {{else}}
    {{> customErrorPageAdminUpdate }}
  {{/if}}
</template> -->




<template name="adminUpdate">

	<nav class = "navbar navbar-default">
    <div class = "container">
      <div class = "navbar-header">
        <a class = "navbar-brand" id = "admin-home-button">you<strong>arc</strong>hange<strong>for</strong>SOMEBODYORSOMEPPL.</a>
      </div>

    <div>
      <p class = "navbar-text">Signed in as {{returnUserId}} (admin). </p>
    </div>

    <div>
      <button type = "button" class = "btn btn-default navbar-btn" id = "update-button">
      <span class = "glyphicon glyphicon-cog"></span>
      </button>

      <button type = "button" class = "btn btn-default navbar-btn" id = "region-button">
      <span class = "glyphicon glyphicon-picture"></span>
      </button>

    </div>
    
    </div>


  </nav>


	<head>
		<link rel="stylesheet" type="text/css" href="/adminUpdate.css">
		<script type="text/javascript">
			

			function toEdit(){
				document.getElementById("saveToDo").style.visibility = "hidden";
				document.getElementById("editToDo").style.visibility = "visible";
				document.getElementById("todoInput").readOnly = true;
				document.getElementById("goalInput").readOnly = true;
				document.getElementById("messageInput").readOnly = true;
			}

			function toSave(){
				document.getElementById("editToDo").style.visibility = "hidden";
				document.getElementById("saveToDo").style.visibility = "visible";
				document.getElementById("todoInput").readOnly = false;
				document.getElementById("goalInput").readOnly = false;
				document.getElementById("messageInput").readOnly = false;
			}
			function toEditLegislator(){
				document.getElementById("saveLeg").style.visibility = "hidden";
				document.getElementById("editLeg").style.visibility = "visible";
				document.getElementById("nameInput").readOnly = true;
				document.getElementById("emailInput").readOnly = true;
				document.getElementById("addressInput").readOnly = true;
			}

			function toSaveLegislator(){
				document.getElementById("editLeg").style.visibility = "hidden";
				document.getElementById("saveLeg").style.visibility = "visible";
				document.getElementById("nameInput").readOnly = false;
				document.getElementById("emailInput").readOnly = false;
				document.getElementById("addressInput").readOnly = false;
			}

			
			</script>
	</head>
	
		<div id="listGroup">
		  
		  
		    <!-- List of all issues -->
		    {{#each getUserIssues}}
		    <a href="#" id="issueSelect" class="list-group-item">{{returnIssueName}}</a>
		    {{/each}}

		  
		</div>
		<div id="newIssueField">
			 
				<button type="button" class="btn btn-default" id ="addIssueButton">
					Add Issue
				</button>
				
				<input type="text" id="addIssueField" class="form-control" aria-label="..." placeholder = "New Issue">
				
				<button type="button" class="btn btn-default" id="deleteIssueButton"> Delete Current Issue
				</button>

		</div>
	
	
	{{>updateFormField}}


</template>


<template name = "updateFormField"> 


	<div>
		<h3> Issue X</h3>

	</div>

	<!-- For each issue there will be the following -->

	<div>
		<!-- Contacts -->

	</div>

	{{#each getLegislatorInfo}}
	{{>legislatorRow}}
	{{/each}}

	{{>legislatorRow}}
	{{> addLegButton}}

	{{#each getToDoInfo}}
	{{> toDoRow}}
	{{/each}}

	{{> toDoRow}}
	{{> addToDoButton}}

</template>

		<!--	<div id="contactList"> -->
				<template name="legislatorRow">
					<div class="legRow">
						<h5>Contact for Issue X</h5>
						
					 	<input type="text" class="form-control" id="nameInput" aria-label="..." placeholder = "Representative">
					 	<input type="text" class="form-control" id="emailInput" aria-label="..." placeholder = "Email">
						<input id="addressInput" type="text" class="form-control" aria-label="..." placeholder = "Address">
							 
						 <button type="button" class="btn btn-default" onclick="toEditLegislator()" id = "saveLegislatorButton">
							 	Save
						</button>
					 	
					 	<button type="button" class="btn btn-default" id="editLegislatorButton" onclick="toSaveLegislator()">
					 			Edit
					 	</button>
					 	
						<button type="button" class="btn btn-default" id="deleteLegislatorButton">
							 	Delete
						</button>
					</div>
				</template>
				<template name="addLegButton">
				<div id="addLegBtnDiv">
					<button type="button" id="addLegBtn" class="btn btn-default" onclick="addLegislator()"> Add Legislator
					</button>
				</div>
		
			
			
		</template>
		<template name= "toDoHead">
		<div id="todoList">
			<h5> To Do List </h5>
		</div>
				</template>
				<template name="toDoRow">
				
					 <div class = 'row'>
						
						 		<input type= 'checkbox' id="checkInput" aria-label="..." >
						 		
						 		<input type="text" class="form-control" id="todoInput" aria-label="..." placeholder = "To Do #1" >

						 		<input type="text" class="form-control" id="goalInput" aria-label="..." placeholder = "Goal #1">
						 							 			
					 			<input type="text" class="form-control" id="messageInput" aria-label="..." placeholder = "Message">

						 		<button type="button" class="btn btn-default" onclick="toEdit()" id="saveToDoButton">
						 			Save
						 		</button>
						 	
						 		<button type="button" class="btn btn-default" onclick="toSave()" id="editToDoButton">
						 			Edit
						 		</button>
						 	
						 		<button type="button" id="deleteToDoButton" class="btn btn-default">
						 			Delete
						 		</button>
						 
					 </div>
				

				
			</template>
			
			<template name="addToDoButton">
			<div id="addToDoBtnDiv">
				<button type= "button" class="btn btn-default" id= "addToDo" onclick="addToDo()"> Add To Do
				</button>
			</div>
		
	
		
</template> 

<template name = "customErrorPageAdminUpdate"> 
  <h1>You're not an admin.</h1> 
</template> 

