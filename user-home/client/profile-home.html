<!-- <template name = "profileHome">

  <h1> entered new block. </h1>
  
  {{#if isInRole 'admin'}}
    {{> profileError}}
  {{else}}
    {{> profileHomeBody}}
  {{/if}}
</template> --> 

<template name="profileHome">
	
		<!--make the following two columns a generic element, a generic template.-->
  		<!-- {{getUserIssues}} -->

  	<ul>
  		{{#each getUserIssues}}
  			{{> issuePanel}}
  		{{/each}}
  	</ul>

    <script> 

        console.log("executing in script");
              d3.select("#barChart")
                .append("p")
                .style("color", "red")
                .text("hi, what's up?");

                var widthScale = d3.scale.linear()
              .domain([0, 60])
              .range([0, 500]);

    var color = d3.scale.linear()
          .domain([0, 60])
          .range(["red", "blue"]);

    var axis = d3.svg.axis()
          .ticks(5)
          .scale(widthScale); 

    var canvas = d3.select("body")
          .append("svg")
          .attr("width", 50)
          .attr("height", 100)
          .attr("transform", "translate(100, 100)");
          //.call(axis);

    /*var circle = canvas.append("circle")
          .attr("cx", 250)
          .attr("cy", 250)
          .attr("r", 50)
          .attr("fill", "red");*/

    var rectangle = canvas.append("rect")
            .attr("width", 10)
            .attr("height", 20);

   console.log('here');

    //var dataArray = [20, 40, 50, 60]; 

    var dataArray = [50]; 

    var bars = canvas.selectAll("rect")
          .data(dataArray)
          .enter()
            .append("rect")
            .attr("height", function(d) {
            //return d;
            return widthScale(d);  
            })
            .attr("width", 500)
            .attr("fill", function(d) { return color(d) })
            .attr("y", function(d, i) { return i*100}); 

    canvas.append("g")
    .attr("transform", "translate(0, 0)")
    .call(axis);



        </script>  



	<!-- <h1 id = "name-header">My Profile</h1>
	<p>{{# if loggedIn}}Logged in as {{returnUserId}}{{/if}}</p> --> 
</template>

<!-- TODO: define additional template here, and pull data from the backend accordingly --> 

<template name = "progressBarPanel">

</template> 

<template name = "toDoPanel">

  <ul>
    {{#each returnToDos}}
      <li>{{returnToDoName}}</li> 
    {{/each}}
  </ul> 
</template> 
	
<template name = "issuePanel">
	<div class="row">
		<div class="col-md-8">


      <head> 
    <link rel = "stylesheet" type = "text/css" href = "profile-home.css">
  </head>

      
      
        <h1 id = "name-header">Progress toward issue: {{returnIssueName}}</h1>
			  <p>{{# if loggedIn}}Logged in as {{returnUserId}}{{/if}}</p>

        <!-- <body> -->


        <!-- <svg id = "bar"><circle cx="1" cy="1" r="100" fill="red"></circle></svg> --> 
        <!-- <svg id = "barChart"> </svg> -->
        
        <!-- {{progressBar}} --> 

        <div id = "barChart">


        </div>
        


        

        <!-- </body> --> 

      

			<!-- progress bar for bar graph - not sure why constant region doesn't work.-->
			<!-- {{<div>
				{{#constant}}
				{{/constant}}
			</div>}} --> 

			{{> progressBarPanel}}
  	</div>
  		
  	<div class="col-md-4">
  			<!-- eliminate dummy code --> 
  			<!-- <h1 id = "name-header">To Do.</h1>
  			<ol>
  				<li>Sign petition.</li>
  				<li>Attend rally.</li>
  				<li>Call Representatitve Crenshaw.</li>
  			</ol> --> 

  			<h1>To Dos: Display {{returnToDos}}</h1> 

  			{{> toDoPanel}}
  	</div>
	</div>
</template> 
	<!-- <h1 id = "name-header">My Profile</h1>
	<p>{{# if loggedIn}}Logged in as {{returnUserId}}{{/if}}</p>
<<<<<<< HEAD
	<p>{{#if loggedIn}}My issues: {{getUserIssues}}{{/if}}</p> -->

<template name = "profileError"> 
  <h1>You're not a user.</h1> 
</template> 
